import { InstanceContext } from '../types/instance-context';
import { N8nApiClient } from './n8n-api-client';
import { Workflow } from '../types/n8n-api';
export interface WorkflowOwnershipInfo {
    workflowId: string;
    instanceId: string;
    instanceUrl: string;
    createdAt: Date;
    lastVerified: Date;
}
export declare class WorkflowOwnershipService {
    private apiClient?;
    private ownershipCache;
    private readonly CACHE_TTL;
    private readonly INSTANCE_TAG_PREFIX;
    private readonly MAX_CACHE_SIZE;
    constructor(apiClient?: N8nApiClient | undefined);
    setApiClient(client: N8nApiClient): void;
    private getInstanceIdentifier;
    private getInstanceTag;
    private extractInstanceFromTags;
    validateAccess(workflowId: string, context: InstanceContext): Promise<boolean>;
    trackOwnership(workflowId: string, context: InstanceContext): Promise<void>;
    private claimWorkflow;
    filterWorkflowsByInstance(workflows: Workflow[], context: InstanceContext): Promise<Workflow[]>;
    private updateOwnershipCache;
    private isCacheValid;
    clearCache(): void;
    getCacheStats(): {
        size: number;
        maxSize: number;
        ttl: number;
    };
}
//# sourceMappingURL=workflow-ownership.d.ts.map