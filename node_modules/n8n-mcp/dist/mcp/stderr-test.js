#!/usr/bin/env node
"use strict";
console.error('STDERR TEST: Script started');
process.stderr.write('STDERR TEST: Direct write\n');
process.stdin.on('data', (chunk) => {
    console.error('STDERR TEST: Received data:', chunk.toString());
    try {
        const data = JSON.parse(chunk.toString().trim());
        if (data.method === 'initialize') {
            const response = {
                jsonrpc: '2.0',
                id: data.id,
                result: {
                    protocolVersion: '2024-11-05',
                    capabilities: {},
                    serverInfo: {
                        name: 'test',
                        version: '1.0.0'
                    }
                }
            };
            console.error('STDERR TEST: Sending response');
            process.stdout.write(JSON.stringify(response) + '\n');
        }
    }
    catch (e) {
        console.error('STDERR TEST: Error:', e);
    }
});
console.error('STDERR TEST: Setup complete');
setInterval(() => { }, 100000);
//# sourceMappingURL=stderr-test.js.map