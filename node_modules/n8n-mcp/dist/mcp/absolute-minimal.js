#!/usr/bin/env node
"use strict";
const fs = require('fs');
const logFile = '/tmp/n8n-mcp-test.log';
fs.writeFileSync(logFile, `Started at ${new Date().toISOString()}\n`);
process.stdin.on('data', (chunk) => {
    fs.appendFileSync(logFile, `Received: ${chunk}\n`);
    try {
        const data = JSON.parse(chunk.toString().trim());
        if (data.method === 'initialize') {
            const response = {
                jsonrpc: '2.0',
                id: data.id,
                result: {
                    protocolVersion: '2024-11-05',
                    capabilities: {},
                    serverInfo: {
                        name: 'test',
                        version: '1.0.0'
                    }
                }
            };
            const responseStr = JSON.stringify(response) + '\n';
            fs.appendFileSync(logFile, `Sending: ${responseStr}`);
            process.stdout.write(responseStr);
        }
    }
    catch (e) {
        fs.appendFileSync(logFile, `Error: ${e}\n`);
    }
});
setInterval(() => { }, 100000);
fs.appendFileSync(logFile, 'Setup complete\n');
//# sourceMappingURL=absolute-minimal.js.map